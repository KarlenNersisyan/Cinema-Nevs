(this["webpackJsonpcinema-news"]=this["webpackJsonpcinema-news"]||[]).push([[0],{178:function(e,t,a){},197:function(e,t,a){},203:function(e,t,a){},208:function(e,t,a){},209:function(e,t,a){},210:function(e,t,a){},309:function(e,t,a){},311:function(e,t,a){},312:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),i=a.n(c),s=(a(178),a(19)),o=a(12),l=a(60),d=a.n(l),j="e8e227add2a2e5c168f7c3845928d8db",u="https://api.themoviedb.org/3/";function h(e){return d.a.get("".concat(u,"movie/popular?api_key=").concat(j,"&language=en-US&page=").concat(e)).then((function(e){return e.data}))}function b(e){return"".concat("https://image.tmdb.org/t/p/w500").concat(e)}var m=a(57),O=a(365),p=a(366),x=a(354),g=a(362),f=a(159),v=a.n(f),N=a(368),w=a(370),y=a(369),S=a(27),C=a(14),k=a(20),F=a(360),E=a(88),I=a(374),q=a(367),B=a(157),P=a.n(B),T=a(158),L=a.n(T),W=a(106),_=a.n(W),D=a(70),A=a.n(D);function R(e){try{return JSON.parse(localStorage.getItem(e))}catch(t){console.log(t.message)}}function M(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(a){console.log(a.message)}}var H="favorites",K="isAuth",z="users",J=a(10),U=a(351),V=(a(197),a(2));function Y(){return Object(V.jsx)("div",{className:"loading",children:Object(V.jsx)(U.a,{})})}var G=a(147),Q=a.n(G),X=a(148),Z=a.n(X),$=a(149),ee=a.n($);a(203);function te(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!0),i=Object(o.a)(c,2),s=i[0],l=i[1],h=Object(J.h)().id;return Object(n.useEffect)((function(){(function(e){return d.a.get("".concat(u,"movie/").concat(e,"?api_key=").concat(j,"&language=en-US")).then((function(e){return e.data}))})(h).then((function(e){r(e),l(!1)}))}),[h]),Object(V.jsx)("section",{children:s?Object(V.jsx)(Y,{}):Object(V.jsxs)("div",{className:"wrapper",children:[Object(V.jsx)("img",{className:"imgBackground",src:b(a.backdrop_path),alt:a.title}),Object(V.jsx)("div",{children:Object(V.jsx)("img",{className:"backgroundPath",src:b(a.poster_path),alt:a.title})}),Object(V.jsx)("div",{className:"status",children:a.status}),Object(V.jsx)("div",{className:"date",children:a.release_date}),Object(V.jsx)("div",{className:"borderStyle"}),Object(V.jsx)("div",{className:"title",children:a.title}),Object(V.jsxs)("div",{className:"overview",children:[a.overview,Object(V.jsx)(Q.a,{className:"iconFilm"})]}),Object(V.jsx)("div",{className:"borderStyleOverview"}),Object(V.jsxs)("div",{className:"rating",children:[Object(V.jsx)(Z.a,{className:"icon"}),a.vote_average]}),Object(V.jsxs)("div",{className:"runtime",children:[a.runtime," mins"]}),Object(V.jsx)("div",{className:"tagline",children:a.tagline}),Object(V.jsx)("div",{className:"borderBottom"}),Object(V.jsxs)("a",{href:"https://github.com/KarlenNersisyan",target:"_blank",rel:"noreferrer",className:"githubIcon",children:["Contact me",Object(V.jsx)(ee.a,{className:"github"})]}),Object(V.jsx)("div",{className:"border"})]})})}function ae(e,t){var a=[];return t.forEach((function(t){e.forEach((function(e){t===e.id&&a.push(e.name)}))})),a}var ne=a(355),re=a(356),ce=a(359),ie=a(358),se=a(357),oe=a(150),le=a.n(oe),de=(a(208),Object(x.a)({root:{display:"flex",flexDirection:"column",justifyContent:"space-between",maxWidth:"47vh",margin:"20px",border:"1px solid dimgrey",borderRadius:"20px"},titleName:{color:"blue"},favBtn:{padding:0},movieTitle:{textAlign:"center"},media:{height:0,paddingTop:"56.25%"}})),je=[];function ue(e){var t=e.title,a=e.date,r=e.description,c=e.imgPath,i=e.genres,s=e.id,l=e.setFavCount,d=(je=R(H)?R(H):[]).some((function(e){return e.id===s})),j=Object(n.useState)(d),u=Object(o.a)(j,2),h=u[0],m=u[1],O=de();return Object(V.jsxs)(ne.a,{className:O.root,children:[Object(V.jsx)(C.b,{to:"".concat(Te.home.url).concat(s),children:Object(V.jsx)(re.a,{title:t,subheader:a,className:O.titleName})}),Object(V.jsx)(C.b,{to:"".concat(Te.home.url).concat(s),children:Object(V.jsx)(se.a,{className:O.media,image:b(c),title:t})}),Object(V.jsxs)(ie.a,{children:[Object(V.jsx)(E.a,{variant:"body2",color:"textSecondary",component:"section",children:Object(V.jsxs)("section",{children:[r.slice(0,70),"..."]})}),Object(V.jsx)("ul",{children:i.map((function(e,t){return Object(V.jsx)("a",{href:"https://github.com/KarlenNersisyan",target:"_blank",rel:"noreferrer",children:Object(V.jsx)("li",{className:"genreName",children:e})},t)}))})]}),Object(V.jsx)(ce.a,{disableSpacing:!0,children:Object(V.jsx)(F.a,{className:O.favBtn,size:"small",color:"primary",onClick:function(){m(!h);var e={title:t,date:a,description:r,imgPath:c,genres:i,id:s,isFavorite:!h};h?(M(H,je.filter((function(e){return e.id!==s}))),l((function(e){return e-1}))):(je.push(e),M(H,je),l((function(e){return e+1})))},"aria-label":"add to favorites",children:h?Object(V.jsx)(A.a,{style:{color:"red"}}):Object(V.jsx)(le.a,{})})})]})}a(209);function he(e){var t=e.loading,a=e.movies,r=e.setOffset,c=e.setFavCount,i=Object(n.useState)(""),s=Object(o.a)(i,2),l=s[0],h=s[1],b=function(){Math.ceil(window.scrollY)+50>=document.documentElement.scrollHeight-document.documentElement.clientHeight&&(r((function(e){return e+1})),window.scrollBy(-20,-20))};return Object(n.useEffect)((function(){return window.addEventListener("scroll",b),function(){return window.removeEventListener("scroll",b)}})),Object(n.useEffect)((function(){d.a.get("".concat(u,"genre/movie/list?api_key=").concat(j,"&language=en-US")).then((function(e){return e.data})).then((function(e){var t=e.genres;h(t)}))}),[]),Object(V.jsx)("section",{className:"container",children:t?Object(V.jsx)(Y,{}):a.length?a.map((function(e){return Object(V.jsx)(ue,{id:e.id,title:e.title,description:e.overview,date:e.release_date,imgPath:e.backdrop_path,genres:l?ae(l,e.genre_ids):[],favorites:[],setFavCount:c},e.id)})):Object(V.jsx)("div",{className:"searchBackground",children:Object(V.jsx)("h1",{children:"No Such Film"})})})}a(210);function be(e){var t=e.isAuth,a=e.setFavCount,n=R(H)?R(H):[];return t?Object(V.jsx)("section",{className:"container",children:n.length?n.map((function(e){return Object(V.jsx)(ue,{setFavCount:a,date:e.date,description:e.description,title:e.title,imgPath:e.imgPath,genres:e.genres,id:e.id},e.id)})):Object(V.jsx)("div",{className:"favoriteBackground",children:Object(V.jsx)("h1",{children:"You have not any favorite(s)"})})}):Object(V.jsx)(J.a,{to:Te.login.url})}var me=a(363),Oe=a(371),pe=a(372),xe=a(364),ge=a(361),fe=a(87),ve=a(40),Ne=ve.a({email:ve.b("Enter your email").email("Enter a valid email").required("Email is required"),password:ve.b("Enter your password").min(7,"Password should be of minimum 7 characters length").required("Password is required")}),we=ve.a({email:ve.b("Enter your email").email("Enter a valid email").required("Email is required"),password:ve.b("Enter your password").min(7,"Password should be of minimum 7 characters length").required("Password is required"),firstName:ve.b("Enter your firstName").min(3,"Firstname should be of minimum 3 characters length").required("Firstname is required"),lastName:ve.b("Enter your lastName").min(3,"Lastname should be of minimum 3 characters length").required("Lastname is required")}),ye=a(156),Se=a.n(ye);var Ce=a(373);function ke(e){var t=e.message;return Object(V.jsx)(Ce.a,{severity:"error",children:t})}a(309);function Fe(){return Object(V.jsxs)(E.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(V.jsx)("a",{color:"inherit",href:"https://github.com/KarlenNersisyan",children:"KarlenNersisyan-GitHub"})," ",(new Date).getFullYear(),"."]})}var Ee=Object(x.a)((function(e){return{paper:{paddingTop:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function Ie(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),i=Object(o.a)(c,2),s=i[0],l=i[1],d=Ee(),j=Object(J.g)(),u=Object(fe.a)({initialValues:{email:"",password:""},validationSchema:Ne,onSubmit:function(e){var t=R(z);t?(r(!a),!function(e,t){var a=!1;return e.forEach((function(e){e.email===t.email&&e.password===t.password&&(a=!0)})),a}(t,e)||(M(K,!0),j.push("".concat(Te.home.url))),l(!s)):r(!a)}});return R(K)?Object(V.jsx)(J.a,{to:Te.home.url}):Object(V.jsx)(pe.a,{className:"loginBackground",children:Object(V.jsxs)(ge.a,{component:"main",maxWidth:"xs",children:[Object(V.jsx)(g.a,{}),Object(V.jsxs)("div",{className:d.paper,children:[Object(V.jsxs)(E.a,{component:"h5",variant:"h5",className:"textP",children:[Object(V.jsx)(Se.a,{className:"icon"}),"Welcome to our website."]}),Object(V.jsxs)(E.a,{component:"h6",variant:"h6",children:["Sign up and find out more about your favorite films right"," ",Object(V.jsx)(C.b,{className:"textHere",to:"/register",children:"here"}),":"]}),Object(V.jsx)(E.a,{component:"h2",variant:"h4",children:"Log In"}),Object(V.jsxs)("form",{onSubmit:u.handleSubmit,className:d.form,noValidate:!0,children:[Object(V.jsx)(Oe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoFocus:!0,value:u.values.email,onChange:u.handleChange,error:u.touched.email&&Boolean(u.errors.email),helperText:u.touched.email&&u.errors.email}),Object(V.jsx)(Oe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:u.values.password,onChange:u.handleChange,error:u.touched.password&&Boolean(u.errors.password),helperText:u.touched.password&&u.errors.password}),s?Object(V.jsx)(ke,{message:"Wrong password or Email"}):a?Object(V.jsx)(ke,{message:"Please Sign Up"}):null,Object(V.jsx)(me.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:d.submit,children:"Submit"}),Object(V.jsx)(xe.a,{children:Object(V.jsx)(xe.a,{item:!0,children:Object(V.jsx)(C.b,{variant:"body2",to:"/register",children:"Don't have an account? Register"})})})]})]}),Object(V.jsx)(pe.a,{mt:2,children:Object(V.jsx)(Fe,{})})]})})}a(311);function qe(){return Object(V.jsxs)(E.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(V.jsx)("a",{className:"textM",href:"https://github.com/KarlenNersisyan",children:"KarlenNersisyan-GitHub"})," ",(new Date).getFullYear(),"."]})}var Be=Object(x.a)((function(e){return{paper:{paddingTop:e.spacing(7),display:"flex",flexDirection:"column",alignItems:"center",color:"white"},form:{width:"100%",marginTop:e.spacing(7)},submit:{margin:e.spacing(3,0,2)},textM:{color:"white"}}}));function Pe(){var e=Be(),t=Object(J.g)(),a=Object(fe.a)({initialValues:{firstName:"",lastName:"",email:"",password:""},validationSchema:we,onSubmit:function(e){var a=Object(m.a)(Object(m.a)({},e),{},{id:Date.now()}),n=R(z)?R(z):[];M(z,[].concat(Object(s.a)(n),[a])),t.push("/")}});return R(K)?Object(V.jsx)(J.a,{to:Te.home.url}):Object(V.jsx)(pe.a,{className:"registerBackground",children:Object(V.jsxs)(ge.a,{component:"main",maxWidth:"xs",children:[Object(V.jsx)(g.a,{}),Object(V.jsxs)("div",{className:e.paper,children:[Object(V.jsx)(E.a,{component:"h1",variant:"h5",children:"Register"}),Object(V.jsxs)("form",{className:e.form,onSubmit:a.handleSubmit,children:[Object(V.jsxs)(xe.a,{container:!0,spacing:2,children:[Object(V.jsx)(xe.a,{item:!0,xs:12,sm:6,children:Object(V.jsx)(Oe.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,value:a.values.firstName,onChange:a.handleChange,error:a.touched.firstName&&Boolean(a.errors.firstName),helperText:a.touched.firstName&&a.errors.firstName})}),Object(V.jsx)(xe.a,{item:!0,xs:12,sm:6,children:Object(V.jsx)(Oe.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",value:a.values.lastName,onChange:a.handleChange,error:a.touched.lastName&&Boolean(a.errors.lastName),helperText:a.touched.lastName&&a.errors.lastName})}),Object(V.jsx)(xe.a,{item:!0,xs:12,children:Object(V.jsx)(Oe.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:a.values.email,onChange:a.handleChange,error:a.touched.email&&Boolean(a.errors.email),helperText:a.touched.email&&a.errors.email})}),Object(V.jsx)(xe.a,{item:!0,xs:12,children:Object(V.jsx)(Oe.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:a.values.password,onChange:a.handleChange,error:a.touched.password&&Boolean(a.errors.password),helperText:a.touched.password&&a.errors.password})})]}),Object(V.jsx)(me.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:"Submit"}),Object(V.jsx)(xe.a,{children:Object(V.jsx)(xe.a,{item:!0,children:Object(V.jsx)(C.b,{className:e.textM,to:"/",children:"Already have an account? Log In"})})})]})]}),Object(V.jsx)(pe.a,{mt:2,children:Object(V.jsx)(qe,{})})]})})}var Te={login:{url:"/",component:Ie},register:{url:"/register",component:Pe},home:{url:"/home/",component:Me},movies:{url:"/home/movies",component:he},favorite:{url:"/home/favorites",component:be},movieDetails:{url:"/home/movies/",component:te}},Le=Object(x.a)((function(e){return{grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(S.a)({display:"none",color:"white"},e.breakpoints.up("sm"),{display:"block"}),titleLogOut:Object(S.a)({display:"none",color:"white"},e.breakpoints.up("sm"),{display:"block",width:"145px"}),titleMenu:Object(S.a)({display:"block",color:"white"},e.breakpoints.up("sm"),{display:"none"}),titleFavorite:Object(S.a)({display:"block",color:"white"},e.breakpoints.up("sm"),{display:"none"}),search:Object(S.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(k.a)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(k.a)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(S.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:Object(S.a)({display:"none"},e.breakpoints.up("sm"),{display:"flex"}),sectionMobile:Object(S.a)({display:"flex"},e.breakpoints.up("sm"),{display:"none"}),homeIcon:{fontSize:"50px"}}}));function We(e){var t=e.handleSearchInput,a=e.favCount,n=Le();function r(){!function(e){try{localStorage.removeItem(e)}catch(t){console.log(t.message)}}(K)}return Object(V.jsx)("div",{className:n.grow,children:Object(V.jsx)(O.a,{position:"static",children:Object(V.jsxs)(p.a,{children:[Object(V.jsx)(C.b,{to:Te.home.url,children:Object(V.jsx)(F.a,{edge:"start",className:n.menuButton,color:"inherit","aria-label":"open drawer",children:Object(V.jsx)(P.a,{color:"secondary",className:n.homeIcon})})}),Object(V.jsx)(C.b,{className:n.title,to:Te.home.url,children:Object(V.jsx)(E.a,{variant:"overline",noWrap:!0,children:"Cinema-News"})}),Object(V.jsx)("div",{className:n.grow}),Object(V.jsxs)("div",{className:n.search,children:[Object(V.jsx)("div",{className:n.searchIcon,children:Object(V.jsx)(L.a,{color:"primary"})}),Object(V.jsx)(I.a,{placeholder:"Search\u2026",classes:{root:n.inputRoot,input:n.inputInput},inputProps:{"aria-label":"search"},onChange:t})]}),Object(V.jsx)("div",{className:n.grow}),Object(V.jsxs)("div",{className:n.sectionDesktop,children:[Object(V.jsx)(C.b,{className:n.title,to:Te.favorite.url,children:Object(V.jsxs)(F.a,{color:"inherit",children:[Object(V.jsx)(q.a,{color:"secondary",badgeContent:a,max:10,children:Object(V.jsx)(A.a,{color:"secondary"})}),Object(V.jsx)(E.a,{variant:"overline",children:"Favorites"})]})}),Object(V.jsx)(C.b,{className:n.titleLogOut,to:Te.login.url,children:Object(V.jsxs)(F.a,{onClick:r,color:"inherit",children:[Object(V.jsx)(q.a,{children:Object(V.jsx)(_.a,{color:"secondary"})}),Object(V.jsx)(E.a,{variant:"overline",children:"Log Out"})]})})]}),Object(V.jsxs)("div",{className:n.sectionMobile,children:[Object(V.jsx)(C.b,{className:n.titleFavorite,to:Te.favorite.url,children:Object(V.jsx)(F.a,{color:"inherit",children:Object(V.jsx)(q.a,{color:"secondary",badgeContent:a,max:10,children:Object(V.jsx)(A.a,{color:"secondary"})})})}),Object(V.jsx)(C.b,{className:n.titleMenu,to:Te.login.url,children:Object(V.jsx)(F.a,{onClick:r,color:"inherit",children:Object(V.jsx)(q.a,{children:Object(V.jsx)(_.a,{color:"secondary"})})})})]})]})})})}var _e=Object(x.a)((function(e){return{root:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2),zIndex:3},backTopFab:{width:"50px",height:"50px"}}}));function De(e){var t=e.children,a=e.window,n=_e(),r=Object(N.a)({target:a?a():void 0,disableHysteresis:!0,threshold:100});return Object(V.jsx)(y.a,{in:r,children:Object(V.jsx)("div",{onClick:function(e){var t=(e.target.ownerDocument||document).querySelector("#back-to-top-anchor");t&&t.scrollIntoView({behavior:"smooth",block:"center"})},role:"presentation",className:n.root,children:t})})}function Ae(e){var t=_e();return Object(V.jsxs)(r.a.Fragment,{children:[Object(V.jsx)(g.a,{}),Object(V.jsx)(O.a,{children:Object(V.jsx)(We,{favCount:e.favCount,handleSearchInput:e.handleSearchInput})}),Object(V.jsx)(p.a,{id:"back-to-top-anchor"}),Object(V.jsx)(De,Object(m.a)(Object(m.a)({},e),{},{children:Object(V.jsx)(w.a,{className:t.backTopFab,color:"primary",size:"large","aria-label":"scroll back to top",children:Object(V.jsx)(v.a,{})})}))]})}var Re=R(H)?R(H).length:0;function Me(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),i=Object(o.a)(c,2),l=i[0],b=i[1],m=Object(n.useState)(!0),O=Object(o.a)(m,2),p=O[0],x=O[1],g=Object(n.useState)(1),f=Object(o.a)(g,2),v=f[0],N=f[1],w=Object(n.useState)(Re),y=Object(o.a)(w,2),S=y[0],C=y[1],k=R(K);return Object(n.useEffect)((function(){h(v).then((function(e){r([].concat(Object(s.a)(a),Object(s.a)(e.results))),x(!1)}))}),[v]),Object(n.useEffect)((function(){var e;l?(x(!0),(e=l,d.a.get("".concat(u,"search/movie?api_key=").concat(j,"&query=").concat(e)).then((function(e){return e.data}))).then((function(e){r(e.results),x(!1)})).catch((function(e){x(!1)}))):h(1).then((function(e){r(e.results),x(!1)}))}),[l]),k?Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(Ae,{handleSearchInput:function(e){b(e.target.value)},favCount:S}),Object(V.jsxs)(J.d,{children:[Object(V.jsx)(J.b,{exact:!0,path:Te.home.url,children:Object(V.jsx)(he,{setOffset:N,isAuth:k,loading:p,movies:a,setFavCount:C})}),Object(V.jsx)(J.b,{path:"/home/favorites",children:Object(V.jsx)(be,{setFavCount:C,isAuth:k})}),Object(V.jsx)(J.b,{path:"/home/:id",children:Object(V.jsx)(te,{})})]})]}):Object(V.jsx)(J.a,{to:"/"})}function He(){var e=R(K);return Object(V.jsx)(C.a,{children:Object(V.jsxs)(J.d,{children:[Object(V.jsx)(J.b,{path:"/home",children:Object(V.jsx)(Me,{isAuth:e})}),Object(V.jsx)(J.b,{path:"/home/favorites",children:Object(V.jsx)(be,{isAuth:e})}),Object(V.jsx)(J.b,{exact:!0,path:"/",children:Object(V.jsx)(Ie,{isAuth:e})}),Object(V.jsx)(J.b,{path:"/register",component:Pe})]})})}var Ke=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,376)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)}))};i.a.render(Object(V.jsx)(He,{}),document.getElementById("root")),Ke()}},[[312,1,2]]]);
//# sourceMappingURL=main.04eeb070.chunk.js.map